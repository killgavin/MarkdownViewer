# Markdown 檢視器建置指南

## 建置步驟

### 開發環境建置

1. 確認已安裝 .NET SDK 10.0 或更新版本
2. 還原相依套件
3. 建置專案

### 指令說明

#### 還原相依套件
```bash
dotnet restore
```

#### 建置除錯版本
```bash
dotnet build --configuration Debug
```

#### 建置發行版本
```bash
dotnet build --configuration Release
```

#### 執行程式（除錯模式）
```bash
dotnet run
```

#### 發佈獨立執行檔（Windows x64）
```bash
dotnet publish --configuration Release --runtime win-x64 --self-contained true --output ./publish/win-x64
```

#### 發佈獨立執行檔（Windows x86）
```bash
dotnet publish --configuration Release --runtime win-x86 --self-contained true --output ./publish/win-x86
```

#### 發佈獨立執行檔（Windows ARM64）
```bash
dotnet publish --configuration Release --runtime win-arm64 --self-contained true --output ./publish/win-arm64
```

## 輸出位置

### 除錯版本
- 路徑：`bin/Debug/net10.0-windows/`
- 檔案：`MarkdownViewer.dll`

### 發行版本
- 路徑：`bin/Release/net10.0-windows/`
- 檔案：`MarkdownViewer.dll`

### 發佈版本
- 路徑：`publish/win-x64/`
- 檔案：`MarkdownViewer.exe`（獨立執行檔）

## 清理建置檔案

```bash
# 清理建置輸出
dotnet clean

# 清理並重新建置
dotnet clean && dotnet build
```

## 開發工具建議

### Visual Studio 2022
- 開啟 `MarkdownViewer.vbproj`
- 使用內建的建置功能

### Visual Studio Code
- 安裝 "C# Dev Kit" 擴充功能
- 使用終端機執行 dotnet 指令

### JetBrains Rider
- 開啟專案資料夾
- 使用內建的 NuGet 管理員

## 疑難排解

### 問題：找不到 .NET SDK
**解決方法：**
1. 前往 https://dotnet.microsoft.com/download
2. 下載並安裝 .NET 10.0 SDK

### 問題：EnableWindowsTargeting 錯誤
**解決方法：**
- 專案檔已設定 `<EnableWindowsTargeting>true</EnableWindowsTargeting>`
- 確認使用最新版本的 .NET SDK

### 問題：NuGet 套件還原失敗
**解決方法：**
```bash
# 清除 NuGet 快取
dotnet nuget locals all --clear

# 重新還原
dotnet restore
```

## 版本控制

建議忽略以下檔案和資料夾（已在 .gitignore 中設定）：
- `bin/`
- `obj/`
- `publish/`
- `*.user`
- `.vs/`

## 發行檢查清單

- [ ] 更新版本號碼
- [ ] 執行完整測試
- [ ] 建置發行版本
- [ ] 驗證所有功能正常
- [ ] 建立安裝程式（選用）
- [ ] 更新版本說明文件
- [ ] 標記 Git 版本標籤
- [ ] 發佈至 GitHub Releases
